<!DOCTYPE html>
<html>
<head>
    <title>Crear Empleado</title>
    <link rel="stylesheet" href="stylecrear.css">
</head>
<body>
    <div class="formulario-container">
        <form id="form" action="#" method="post">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required>

            <label for="salario">Salario:</label>
            <input type="number" id="salario" name="salario" required>

            <input type="submit" value="Enviar">

            <input type="button" value="Regresar" onclick="window.location.href='index.html'">
        </form>
    </div>
    <!-- ... tu código HTML anterior ... -->

<script>
    const form = document.querySelector('form');
    form.addEventListener('submit', async (event) => {
        event.preventDefault();
        const nombre = document.getElementById('nombre').value;
        const salario = document.getElementById('salario').value;
        const data = {
            nombre,  // Corregir a 'nombre' en lugar de 'name'
            salario
        };

        try {
            const response = await fetch('http://localhost:3000/empleados', {
                method: 'POST',
                mode: 'cors', // Cambiar mode a 'cors'
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            const json = await response.json();
            console.log(json);
        } catch (error) {
            console.error('Error:', error);
        }
    });
</script>

<!-- ... tu código HTML posterior ... -->

</body>
</html>